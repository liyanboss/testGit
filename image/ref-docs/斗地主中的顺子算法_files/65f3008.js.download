function _argus_decode(r){var e=/[\t\n\f\r ]/g;var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var t="argus";var n=3;function decode(r){r=String(r).replace(e,"");var t=r,n=t.length;if(n%4===0){r=r.replace(/==?$/,"");n=r.length}if(n%4===1||/[^+a-zA-Z0-9/]/.test(r))throw new Error("Invalid character: the string to be decoded is not correctly encoded.");var c=0;var o,d;var g="";var i=-1;while(++i<n){d=a.indexOf(r.charAt(i));o=c%4?o*64+d:d;if(c++%4)g+=String.fromCharCode(255&o>>(-2*c&6))}return g}var c=r.replace(/\$/g,"V").replace(/\-/g,"Y").replace(/\*/g,"G").replace(/\%/g,"U");for(var o=0;o<n;o++)c=decode(c);c=c.slice(0,c.length-t.length);return c};
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1047:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return l}));var n,o,c=r(40);function l(e,t){Object(c.d)(e,t)}!function(e){e.FollowShow="follow_show",e.FollowClick="follow_click",e.FollowCancel="follow_cancel",e.FollowingFeedShow="following_feed_show"}(n||(n={})),function(e){e[e.followCommendCard=0]="followCommendCard",e[e.hotAuthors=1]="hotAuthors",e[e.homeUserPopover=2]="homeUserPopover",e[e.postUserCard=4]="postUserCard",e[e.postTop=5]="postTop",e[e.postStickyBar=6]="postStickyBar",e[e.userCenterTop=7]="userCenterTop",e[e.userCenterStickyBar=8]="userCenterStickyBar",e[e.userCenterMomentFeed=9]="userCenterMomentFeed",e[e.userCenterFollowing=10]="userCenterFollowing",e[e.userCenterTeam=11]="userCenterTeam",e[e.userCenterFollowers=12]="userCenterFollowers",e[e.commentUserPopover=13]="commentUserPopover",e[e.pinFeedUserPopover=14]="pinFeedUserPopover",e[e.pinDiggDetail=15]="pinDiggDetail",e[e.pinDetail=16]="pinDetail",e[e.clubDetail=18]="clubDetail",e[e.searchResult=19]="searchResult",e[e.teamCenterTop=20]="teamCenterTop",e[e.other=100]="other"}(o||(o={}))},1076:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));r(60),r(39),r(172),r(65),r(18);var n=r(5),o=r(3),c=r(94),l=r(133),d=r(24),f=r(4),v=r(178),m=r(1077),w=r(1),h=r(1047),_=r(241);function y(){var e,t,r,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=Object(m.a)(),x=Object(o.r)(),R=Object(o.c)(),T=Object(o.l)(!1),S=Object(o.l)(!1),k=[],F=Object(o.l)(!1),C=Object(o.l)(""),P=Object(o.l)(d.c.UserType),U=Object(o.l)(h.b.other),J=Object(o.l)("关注失败，请稍后重试~"),M=Object(o.l)(""),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.itemId,r=e.itemType,n=e.isFollow,o=e.teaFollowType,c=e.errorText,l=e.successText;void 0!==t&&(C.value=t),void 0!==r&&(P.value=r),void 0!==n&&(F.value=n),void 0!==o&&(U.value=o),void 0!==c&&(J.value=c),void 0!==l&&(M.value=l),"boolean"==typeof n&&(S.value=!0)},I=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==R?void 0:R.proxy.$ensureAuthorized({loginGuideFrom:l.b.focus_login});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",!1);case 8:if(!t||"string"==typeof t){e.next=10;break}return e.abrupt("return",!1);case 10:if((null!=t?t:C.value)&&(null!=r?r:P.value)){e.next=12;break}return e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,r){return e.apply(this,arguments)}}(),D=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,l,m,w,y,j,R,S,k,B;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,r);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{isSuccess:!1});case 4:return w=null!=t?t:C.value,y=null!=r?r:P.value,j=null!==(o=null==n?void 0:n.successText)&&void 0!==o?o:M.value,R=null!==(l=null==n?void 0:n.errorText)&&void 0!==l?l:J.value,T.value=!0,S=!0,e.prev=10,e.next=13,O({itemId:w,itemType:y});case 13:0===(k=e.sent).err_no?(F.value=!0,j&&c.Message.success(j)):(S=!1,Object(v.a)(k.err_no)||c.Message.error(k.err_msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),S=!1,c.Message.error(R);case 21:return T.value=!1,[d.c.UserType,d.c.Team].includes(y)&&(B=null!==(m=null==n?void 0:n.teaFollowType)&&void 0!==m?m:U.value,Object(h.c)(h.a.FollowClick,{follow_status:S?1:0,current_page:Object(_.h)(window.location.href),follow_type:B,to_item_id:w,to_item_type:y===d.c.UserType?0:1})),y===d.c.UserType&&x.dispatch(f.FOLLOW_USER),e.abrupt("return",{isSuccess:S,targetStatus:!0});case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,r,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){var o,l,v,m,w,y,O,R,S,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,r);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",{isSuccess:!1});case 4:return m=null!=t?t:C.value,w=null!=r?r:P.value,y=null!==(o=null==n?void 0:n.successText)&&void 0!==o?o:M.value,O=null!==(l=null==n?void 0:n.errorText)&&void 0!==l?l:J.value,T.value=!0,R=!0,e.prev=10,e.next=13,j({itemId:m,itemType:w});case 13:0===(S=e.sent).err_no?(F.value=!1,y&&c.Message.success("取消".concat(y))):(R=!1,c.Message.error(S.err_msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),R=!1,c.Message.error("取消".concat(O));case 21:return T.value=!1,[d.c.UserType,d.c.Team].includes(w)&&(k=null!==(v=null==n?void 0:n.teaFollowType)&&void 0!==v?v:U.value,Object(h.c)(h.a.FollowCancel,{follow_status:R?1:0,current_page:Object(_.h)(window.location.href),follow_type:k,to_item_id:m,to_item_type:w===d.c.UserType?0:1})),w===d.c.UserType&&x.dispatch(f.UNFOLLOW_USER),e.abrupt("return",{isSuccess:R,targetStatus:!1});case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,r,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=n?n:F.value)){e.next=7;break}return e.next=4,L(t,r,o);case 4:return e.abrupt("return",e.sent);case 7:return e.next=9,D(t,r,o);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),N=function(e){var t,r,n;var o=null!==(t=null==e?void 0:e.currentPage)&&void 0!==t?t:Object(_.h)(window.location.href),c=null!==(r=null==e?void 0:e.teaFollowType)&&void 0!==r?r:S.value?U.value:void 0,l=null!==(n=null==e?void 0:e.isFollow)&&void 0!==n?n:S.value?F.value:void 0;void 0!==c&&void 0!==l?Object(h.c)(h.a.FollowShow,{current_page:o,follow_type:c,button_status:l?1:0}):k.push({currentPage:o,teaFollowType:c,isFollow:l})};return B(w),Object(o.s)(S,(function(){S.value&&(k.forEach((function(e){var t=e.currentPage,r=e.teaFollowType,n=e.isFollow;N({currentPage:t,teaFollowType:null!=r?r:U.value,isFollow:null!=n?n:F.value})})),k.splice(0,k.length))})),{isFollow:F,followLoading:T,doFollow:(r=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.do((function(){return D(t,r,n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,n){return r.apply(this,arguments)}),cancelFollow:(t=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.do((function(){return L(t,r,n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,r,n){return t.apply(this,arguments)}),toggleFollow:(e=Object(n.a)(regeneratorRuntime.mark((function e(t,r,n,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.do((function(){return E(t,r,n,o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(t,r,n,o){return e.apply(this,arguments)}),setFollowInfo:B,traceFollowShow:N}}function O(e){var t=e.itemId,r=e.itemType;return Object(w.d)({url:"/interact_api/v1/follow/do",method:"post",showError:!1,body:{id:t,type:r}})}function j(e){var t=e.itemId,r=e.itemType;return Object(w.d)({url:"/interact_api/v1/follow/undo",method:"post",showError:!1,body:{id:t,type:r}})}},1077:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));r(8);var n=r(12),o=r(13),c=function(){function e(){Object(n.a)(this,e),this.busy=!1}return Object(o.a)(e,[{key:"do",value:function(e){var t=this;return this.busy?Promise.resolve(void 0):(this.busy=!0,Promise.resolve("function"==typeof e?e():e).then((function(e){return t.busy=!1,e})).catch((function(e){return t.busy=!1,Promise.reject(e)})))}}]),e}();function l(){return new c}},1085:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return v}));r(8),r(30),r(55),r(119),r(59),r(88),r(63);var n=r(69),o=r(11),c=r(133);function l(){var e=new URLSearchParams,t=Object(o.c)()||Object(o.d)()?"jjv636elhseb626s":"jj6eipgo1jpnp8uz",r=Object(o.c)()||Object(o.d)()?"marscode-boe."+_argus_decode("$1c1c01*cFh$bWhp-l%1c1RHMDFiR1JI%m5s-%0xWj-"):"www.marscode.cn";return e.append("client_key",t),e.append("scope","user_info,user.info.basic"),e.append("source","web"),e.append("aid","2608"),e.append("redirect_uri","https://".concat(r,"/cloudide/api/v3/public/BindJuejinAccount")),fetch("/passport/open/web/auth/",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e})}function d(e,t){var r=window.location.search,n=new URL(e),o=new URLSearchParams(n.search),l=new URLSearchParams(r),d=function(e){var t=new URLSearchParams;return e===c.b.code_assistant||e===c.b.ai_summary?(t.set("utm_source","ai_assitant"),t.set("utm_medium","juejin"),t.set("utm_campaign","registration")):e!==c.b.book_ai_learning&&e!==c.b.book_section_ai_learning||(t.set("utm_source","ai_learning"),t.set("utm_medium","juejin"),t.set("utm_campaign","registration")),t}(t);return fetch(e,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({Platform:"PC",UtmSource:d.get("utm_source")||l.get("utm_source")||"",UtmMedium:d.get("utm_medium")||l.get("utm_medium")||"",UtmCampaign:d.get("utm_campaign")||l.get("utm_campaign")||"",UtmTerm:l.get("utm_term")||"",UtmContent:l.get("utm_content")||"",Code:o.get("code")||""})})}function f(){var e=Object(n.a)()||"0";localStorage.setItem(e+"_marsauthed","true")}function v(){var e=Object(n.a)()||"0",t=localStorage.getItem(e+"_marsauthed");try{return!!t&&JSON.parse(t)}catch(e){return!1}}},1099:function(e,t,r){"use strict";r.d(t,"b",(function(){return w})),r.d(t,"a",(function(){return h}));r(18);var n=r(5),o=r(3),c=r(6),l=r(63),d=r(27),f=r(16),v=r(278),m=r(69);function w(e){var t=Object(v.c)({maxDurationMS:9e4}),r=t.stayDuration,f=t.isCancelled,m=t.cancel;function w(){return(w=Object(n.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,l.a.AddPointReport({growth_type:d.d.JScore,task_id:d.c.ViewContent,item_id:t});case 5:(r=e.sent).err_no!==c.ERROR_NO.OK?console.warn("error reportViewContentJScore reason:".concat(r.err_msg)):m(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.warn("error reportViewContentJScore err:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}Object(o.t)((function(){r.value>=9e4&&function(e){w.apply(this,arguments)}(e)}))}function h(){return _.apply(this,arguments)}function _(){return(_=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],r=t?Object(m.f)(sessionStorage.getItem(f.b.reportBindPhoneJScore)||"null"):{growth_type:d.d.JScore,task_id:d.c.BindPhone,item_id:"0"}){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,t||sessionStorage.setItem(f.b.reportBindPhoneJScore,JSON.stringify(r)),e.next=8,l.a.AddPointReport(r);case 8:(n=e.sent).err_no!==c.ERROR_NO.OK&&console.warn("error reportBindPhoneJScore reason:".concat(n.err_msg)),sessionStorage.removeItem(f.b.reportBindPhoneJScore),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.warn("error reportBindPhoneJScore, set to sessionStorage, ".concat(JSON.stringify(r)," err:"),e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}},1111:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l}));r(18);var n=r(5),o=r(3);function c(){var e=Object(o.c)();return{openReportModal:function(t,r){if(e){var n=e.proxy.$getBean("eventBus");n.emit(n.eventType.REPORT_CONTENT,t,r)}}}}function l(e){var t=Object(o.k)({visible:!1,show:!1});function r(){return(r=Object(n.a)(regeneratorRuntime.mark((function r(n,o){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.$validLogin()){r.next=2;break}return r.abrupt("return");case 2:t.show||(t.show=!0),t.visible=!0,t.itemId=n,t.idType=o;case 6:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return{reportModalData:t,showReportModal:function(e,t){return r.apply(this,arguments)}}}}}]);
//# sourceMappingURL=65f3008.js.map